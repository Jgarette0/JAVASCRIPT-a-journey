<!DOCTYPE html>
<html>
  <head>
    <title>Text Editor with Formats</title>
    <script>
      const applyFormat = (format, value = "") => {
        const selection = window.getSelection();
        const range = selection.getRangeAt(0);
        let selectedNode = range.startContainer;

        while (
          selectedNode.nodeName !== "DIV" &&
          selectedNode.nodeName !== format
        ) {
          selectedNode = selectedNode.parentNode;
        }

        if (selectedNode.nodeName === "DIV") {
          document.execCommand(format, false, value);
        } else {
          document.execCommand("removeFormat", false, null);
        }
      };

      const toggleShortcut = (event) => {
        if (event.ctrlKey) {
          event.preventDefault();
          let format = "";
          let value = "";
          switch (event.key) {
            case "b": // Ctrl + B for bold
              format = "bold";
              break;
            case "i": // Ctrl + I for italic
              format = "italic";
              break;
            case "u": // Ctrl + U for underline
              format = "underline";
              break;
            case "s": // Ctrl + S for strikethrough
              format = "strikeThrough";
              break;
            case "m": // Ctrl + M for background color
              format = "backColor";
              value = "#f87c56"; // Background color value
              break;
            // Add more cases for other formatting options as needed
          }

          applyFormat(format, value);
        }
      };

      const submitText = () => {
        const content = document.getElementById("inputText").innerHTML;
        const outputDiv = document.getElementById("outputText");
        const newDiv = document.createElement("div");
        newDiv.innerHTML = `<div>${content}</div>`;
        outputDiv.appendChild(newDiv);
        document.getElementById("inputText").innerHTML = "";
      };
    </script>
  </head>
  <body>
    <div
      id="inputText"
      contenteditable="true"
      onkeydown="toggleShortcut(event)"
      style="width: 300px; height: 150px; border: 1px solid black; padding: 5px"
    ></div>
    <br />
    <button onclick="submitText()">Submit</button>
    <br /><br />
    <div id="outputText"></div>
  </body>
</html>
